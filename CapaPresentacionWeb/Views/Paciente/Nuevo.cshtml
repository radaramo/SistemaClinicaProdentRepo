@model CapaEntidades.entPaciente

@{
    ViewBag.Title = "Nuevo";
    Layout = "~/Views/MasterPrincipal.cshtml";
}
@section scripts {
<script type="text/javascript">
    $(function () {
        fn_init();
        $(".number").keydown(function (e) {
            // Permite: backspace, delete, tab, escape, enter and .
            if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                // Permite: Ctrl+A
                (e.keyCode == 65 && e.ctrlKey === true) ||
                // Permite: home, end, left, right
                (e.keyCode >= 35 && e.keyCode <= 39)) {
                // solo permitir lo que no este dentro de estas condiciones es un return false
                return;
            }
            // Aseguramos que son numeros
            if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                e.preventDefault();
            }
        });
    });
    function fn_init() {
        fn_plugin();
    }
    function fn_plugin() {
        $("#txtFechaNacimiento").datepicker({
            format: 'dd/mm/yyyy',
            changeMonth: true,
            changeYear: true
        });
    }
    function fn_validate() {
        $('#divmessage').css('display', 'none');
        $('#divmessage label').text('');
        if ($('#txtNombres').val() == '') {
            fn_message('i', 'Porfavor ingresar un nombre');
            return false;
        }
        if ($('#txtApellidos').val() == '') {
            fn_message('i', 'Porfavor ingresar un apellido');
            return false;
        }
        if ($('#txtDni').val() == '') {
            fn_message('i', 'Porfavor ingresar un DNI');
            return false;
        }
        if ($('#txtEdad').val() == '') {
            fn_message('i', 'Porfavor ingresar una edad');
            return false;
        }
        return true;
    }
</script>
 }
    <div class="row">
        <div class="col-xs-12">
            <section class="panel">
                <div id="message_row">
                </div>
                <header class="panel-heading">
                    <h2 class="panel-title">Nuevo Paciente</h2>
                </header>
                <div class="panel-body">
                    <div class="form-horizontal form-bordered">
                        <form method="post" action="Nuevo" enctype="multipart/form-data">
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Nombres</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="txtNombres" name="txtNombres" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Apellidos</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="txtApellidos" name="txtApellidos">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Dni</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control number" id="txtDni" name="txtDni" maxlength="8">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Direccion</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="txtDireccion">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Fecha Nacimiento</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="txtFechaNacimiento" id="txtFechaNacimiento">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Edad</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control number" id="txtEdad" name="txtEdad">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Genero</label>
                                <div class="col-md-6">
                                    <select name="cboGenero" class="form-control mb-md">
                                        <option>Selecciona tu genero</option>
                                        <option value="M">Masculino</option>
                                        <option value="F">Femenino</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Correo</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="txtCorreo">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Telefono</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control number" name="txtTelefono" maxlength="8">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="inputPlaceholder">Celular</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control number" name="txtCelular" maxlength="9">
                                </div>
                            </div>
                            <div class="col-sm-6 col-sm-offset-3">
                                <input type="submit" class="mb-xs mt-xs mr-xs btn btn-lg btn-primary" onclick="if(!fn_validate())return false;" value="Guardar" />
                                <a class="mb-xs mt-xs mr-xs btn btn-lg btn-default" href="@Url.Action("Index", "Paciente")">Regresar</a>
                            </div>
                            </form>
                         </div>
                    </div>
            </section>
            </div>
        </div>
